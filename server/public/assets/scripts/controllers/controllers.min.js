/*! sql_assignment_wk6 2015-11-17 */
myApp.controller("MainController",["$scope","$http",function(a,b){console.log("Main Controller Active"),a.people=[],a.addresses=[],a.dates={},a.totalorders=[],a.totalamount=[],a.money=0,a.getPeople=function(){b.get("/people").then(function(b){a.people=b.data,console.log(a.people)})},a.findAddresses=function(c){void 0==c?console.log("Undefined person"):b.get("/addresses",{params:{name:c}}).then(function(b){a.addresses=b.data,console.log("This is addresses ",a.addresses)})},a.submitName=function(c){var d=[];c.name=c.name.name,b.get("/orders",{params:{name:c.name,startdate:c.startdate,enddate:c.enddate}}).then(function(b){a.totalorders=b.data;var c=a.totalorders;for(orders in c)d.push(parseFloat(c[orders].amount));for(var e=0;e<d.length;e++)a.money+=d[e]}),a.dates={}},a.getPeople()}]);